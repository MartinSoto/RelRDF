def uriValue($uri) 
  valuemapping (
    inttoext($int) concat($uri, $int)
    exttoint($ext) concat($uri, $int));

def refVersion($numExpr) Ref(uriValue(relrdf:version), $numExpr);

mapping singleVersion($versionId)
  default
    mapto (refVersion(vs.version_id), rdf:Resource,
	   s.subject, rdf:Resource,
	   s.predicate, rdf:Resource,
	   s.object, refType(s.object_type))
      version_statements vs cross statements s
      on vs.version_id = $versionId && vs.stmt_id = s.id;

